<!-- Input file oculto -->
<input
  #fileInput
  type="file"
  [accept]="acceptedTypes"
  (change)="onFileSelected($event)"
  class="hidden"
  style="display: none"
/>

<!-- Área de drag and drop - Solo se muestra si no hay imagen seleccionada -->
<div
  *ngIf="!hasSelectedImage"
  class="w-full max-w-sm border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors cursor-pointer relative overflow-hidden"
  [style.background-image]="defaultBackgroundImage ? 'url(' + defaultBackgroundImage + ')' : 'none'"
  [style.background-size]="defaultBackgroundImage ? 'cover' : 'auto'"
  [style.background-position]="defaultBackgroundImage ? 'center' : 'initial'"
  [style.background-repeat]="defaultBackgroundImage ? 'no-repeat' : 'initial'"
  (click)="triggerFileInput()"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
>
  <!-- Overlay semi-transparente cuando hay imagen de fondo -->
  <div *ngIf="defaultBackgroundImage" class="absolute inset-0 bg-black bg-opacity-40 rounded-lg"></div>

  <!-- Contenido (ícono y texto) -->
  <div class="relative z-10">
    <!-- Ícono de cámara -->
    <div class="flex justify-center mb-4">
      <div
        class="w-12 h-12 rounded-lg flex items-center justify-center"
        [class]="defaultBackgroundImage ? 'bg-white bg-opacity-90' : 'bg-orange-100'"
      >
        <i class="material-icons text-2xl" [class]="defaultBackgroundImage ? 'text-orange-500' : 'text-orange-500'">
          photo_camera
        </i>
      </div>
    </div>

    <!-- Texto -->
    <p class="font-medium mb-1" [class]="defaultBackgroundImage ? 'text-white' : 'text-gray-700'">Subir imagen</p>
    <p class="text-sm" [class]="defaultBackgroundImage ? 'text-gray-200' : 'text-gray-500'">PNG, JPG hasta 5MB</p>
  </div>
</div>
