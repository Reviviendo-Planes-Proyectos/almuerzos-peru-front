<!-- Modal Backdrop -->
<div
  *ngIf="isVisible"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
  (click)="onBackdropClick($event)"
>
  <!-- Modal Content -->
  <div class="bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-xl">
    <!-- Header -->
    <div class="bg-orange-500 text-white p-4 relative">
      <h2 class="text-lg font-semibold">Seleccionar Ubicación</h2>
      <p class="text-sm opacity-90 mt-1">Encuentra tu restaurante en el mapa</p>

      <!-- Close Button -->
      <button
        (click)="onClose()"
        class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors"
      >
        <i class="material-icons text-white text-lg">close</i>
      </button>
    </div>

    <!-- Search Bar -->
    <div class="p-4 border-b border-gray-100">
      <div class="relative">
        <input
          type="text"
          [value]="searchQuery"
          (input)="onSearchChange($event)"
          placeholder="Buscar dirección en Lima, Perú..."
          class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"
        />
        <i class="material-icons absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400">search</i>
      </div>
    </div>

    <!-- Map Container -->
    <div class="p-4">
      <div
        class="bg-gradient-to-br from-green-100 to-blue-100 rounded-lg h-64 flex flex-col items-center justify-center relative overflow-hidden"
      >
        <!-- Map Icon -->
        <div class="bg-orange-500 w-12 h-12 rounded-full flex items-center justify-center mb-3 shadow-lg">
          <i class="material-icons text-white text-2xl">place</i>
        </div>

        <!-- Map Title -->
        <h3 class="text-gray-700 font-semibold text-lg mb-2">Mapa Interactivo</h3>
        <p class="text-gray-500 text-sm text-center px-4">Aquí se mostraría Google Maps</p>
        <p class="text-gray-400 text-xs text-center px-4 mt-1">Haz clic en el mapa para seleccionar tu ubicación</p>

        <!-- Decorative Elements -->
        <div class="absolute top-2 right-2 w-3 h-3 bg-yellow-400 rounded-full opacity-60"></div>
        <div class="absolute bottom-4 left-4 w-2 h-2 bg-blue-400 rounded-full opacity-40"></div>
        <div class="absolute top-1/3 left-2 w-1 h-1 bg-green-400 rounded-full opacity-50"></div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="p-4 bg-gray-50 flex gap-3">
      <button
        (click)="onClose()"
        class="flex-1 px-4 py-3 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-100 transition-colors font-medium"
      >
        Cancelar
      </button>

      <button
        (click)="onConfirmLocation()"
        [disabled]="!searchQuery.trim()"
        class="flex-1 px-4 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center gap-2"
      >
        <i class="material-icons text-sm">location_on</i>
        Confirmar Ubicación
      </button>
    </div>
  </div>
</div>
